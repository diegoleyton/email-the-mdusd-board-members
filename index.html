<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Email the MDUSD Board Members</title>
<link rel="icon" type="image/png" href="logo.png">

<style>
:root{
  --bg:#f3f7ff;
  --card:#ffffff;
  --text:#0f172a;
  --muted:#475569;
  --border:#dbeafe;
  --blue:#1d4ed8;
  --blueSoft:#eff6ff;
}

*{ box-sizing:border-box; }

body{
  margin:0;
  font-family:system-ui,sans-serif;
  background:#fff;
  color:var(--text);
}

.page{
  max-width:920px;
  margin:auto;
  padding:18px;
}

.wrap{
  background:var(--bg);
  padding:18px;
  border-radius:16px;
  border:1px solid var(--border);
}

.titleBlock{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:12px;
  margin-bottom:12px;
  text-align:center;
}

.titleLogo{
  width:120px;
  height:120px;
  object-fit:contain;
}

.title{
  font-size:22px;
  margin:0;
}

.subtitle{
  color:var(--muted);
  font-size:14px;
  margin-bottom:16px;
  line-height:1.5;
}

.card{
  background:#fff;
  border:1px solid var(--border);
  border-radius:16px;
  padding:16px;
}

label{
  font-size:13px;
  color:var(--muted);
}

input{
  width:100%;
  padding:12px;
  margin-top:6px;
  border-radius:12px;
  border:1px solid #c7d7ff;
  background:#f9fbff;
  font-size:16px;
  cursor:text;
  outline:none;
}

input::placeholder{
  color:#94a3b8;
  opacity:1;
}

input:focus{
  border-color:#93c5fd;
  box-shadow:0 0 0 3px rgba(37,99,235,.14);
}

.nameWarning{
  display:none;
  margin-top:8px;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid #fecaca;
  background:#fff1f2;
  color:#7f1d1d;
  font-size:13px;
}
.nameWarning.show{display:block;}

.needsName{
  border-color:#fca5a5 !important;
}

.gmailToggle{
  margin-top:14px;
  width:100%;
}

/* Make the whole row layout predictable */
.gmailToggle label{
  display:grid;
  grid-template-columns: 22px 1fr; /* checkbox column + text column */
  align-items:start;
  column-gap:10px;
  row-gap:0;
  cursor:pointer;
  margin:0;
  width:100%;
}

/* Keep checkbox from stretching / taking space */
.gmailToggle input[type="checkbox"]{
  width:18px;
  height:18px;
  margin:2px 0 0 0; /* align with first text line */
  justify-self:start;
}

/* Give the text all the space */
.gmailToggle .toggleText{
  line-height:1.25;
}

.grid{
  display:grid;
  grid-template-columns:1fr;
  gap:10px;
  margin-top:16px;
}

@media(min-width:640px){
  .grid{grid-template-columns:1fr 1fr;}
}

button.member{
  padding:14px;
  border-radius:14px;
  border:1px solid var(--border);
  background:#fff;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:space-between;
  font-size:16px;
  transition:.15s;
}

button.member:hover{ background:#f8fbff; }

button.member:disabled{
  opacity:.55;
  cursor:not-allowed;
}

.name{
  font-weight:600;
  display:flex;
  align-items:center;
  gap:8px;
}

.inlineCheck{
  color:#16a34a;
  font-weight:900;
  display:none;
}
.inlineCheck.show{display:inline;}

.progress{
  margin-top:14px;
  font-size:13px;
  color:var(--muted);
}

.note{
  margin-top:6px;
  font-size:12px;
  color:var(--muted);
}

.greenCheck{
  color:#16a34a;
  font-weight:700;
}

.resetWrap{
  margin-top:10px;
}

.resetBtn{
  border:1px solid var(--border);
  background:var(--blueSoft);
  color:var(--blue);
  border-radius:12px;
  padding:10px 12px;
  font-size:13px;
  font-weight:700;
  cursor:pointer;
}

.resetBtn:hover{filter:brightness(.97);}
</style>
</head>

<body>
<div class="page">
<div class="wrap">

<div class="titleBlock">
<img class="titleLogo" src="logo.png">
<h2 class="title">Email the MDUSD Board Members</h2>
</div>

<div class="subtitle">
<b>English:</b> Enter your name, then click a name to open a prepared email. Review and send.<br>
<span style="opacity:.7"><b>Español:</b> Escriba su nombre y luego toque un nombre para abrir un correo listo. Revíselo y envíelo.</span>
</div>

<div class="card">

<label>Your Name / Su Nombre</label>
<input id="senderName" placeholder="Your name">

<div class="nameWarning" id="nameWarning">
<b>English:</b> Please enter your name.<br>
<span style="opacity:.7"><b>Español:</b> Por favor escriba su nombre.</span>
</div>

<div class="gmailToggle" id="gmailToggle">
  <label>
    <input type="checkbox" id="gmailCheck">
    <span class="toggleText">Use Gmail website instead of your email app / Usar el sitio web de Gmail en vez de su aplicacion de email</span>
  </label>
</div>

<div class="grid" id="buttons"></div>

<div class="progress" id="progressText">Opened: 0 / 9</div>

<div class="note">
  <span class="greenCheck">✓</span>
  <b>English:</b> Checks mean you opened the email — make sure you sent it.<br>

  <span style="opacity:.7">
    <span style="color:#16a34a; font-weight:700;">✓</span>
    <b>Español:</b> Las marcas indican que abrió el correo — asegúrese de enviarlo.
  </span>
</div>

<div class="resetWrap">
<button class="resetBtn" id="resetBtn">Reset checkmarks / Reiniciar marcas</button>
</div>
</div>

</div>
</div>
</div>

<script>
const SUBJECT="Concern Regarding Two-Way Dual Immersion Transition";

const BASE=`I am writing as a Bancroft Elementary community member to share my concern about the recently announced transition of the Two-Way Dual Immersion program.

Like many families, we learned of this decision on January 28—just weeks before Kindergarten enrollment opens. This change has created significant uncertainty for our family and others as we try to plan for enrollment, childcare, and keeping siblings together.

I respectfully ask MDUSD to consider two specific actions:

1. Delay the transition so families have adequate time to plan.
2. Engage in real dialogue with the community.

Families are asking for transparency, time, and collaboration before a decision of this magnitude is implemented.

Thank you for your time and service.`;

const MEMBERS=[
["Debra Mason","masond@mdusd.org"],
["Keisha Nzewi","nzewik@mdusd.org"],
["Brian Lawrence","lawrenceb@mdusd.org"],
["Linda Mayo","mayol@mdusd.org"],
["Tom McDougall","mcdougallt@mdusd.org"],
["Alan Barrera Orellana","barreraorellanaa@mdusd.org"],
["Dr. Adam Clark","clarka@mdusd.org"],
["Erin DeMartini","demartinie@mdusd.org"],
["Kathryn Fireman","firemank@mdusd.org"]
];

const storeKey="progressEmails_v2";
const nameKey="senderName_v1";

/* ---------- storage ---------- */

function progress(){
return JSON.parse(localStorage.getItem(storeKey)||"{}");
}
function save(p){
localStorage.setItem(storeKey,JSON.stringify(p));
}

/* ---------- name save ---------- */

function loadSavedName(){
const saved=(localStorage.getItem(nameKey)||"").trim();
if(saved) document.getElementById("senderName").value=saved;
}
function saveNameNow(){
localStorage.setItem(nameKey,getSenderName());
}

/* ---------- UI update ---------- */

function update(){
const p=progress();
document.getElementById("progressText").textContent=`Opened: ${Object.keys(p).length} / ${MEMBERS.length}`;

MEMBERS.forEach(m=>{
const check=document.querySelector(`[data-check="${m[1]}"]`);
if(check){
if(p[m[1]]) check.classList.add("show");
else check.classList.remove("show");
}
});
}

/* ---------- name gate ---------- */

function getSenderName(){
return(document.getElementById("senderName").value||"").trim();
}

function refreshNameGate(){
const ok=getSenderName().length>0;
document.querySelectorAll("button.member").forEach(b=>b.disabled=!ok);

if(!ok){
document.getElementById("nameWarning").classList.add("show");
document.getElementById("senderName").classList.add("needsName");
}else{
document.getElementById("nameWarning").classList.remove("show");
document.getElementById("senderName").classList.remove("needsName");
}
}

/* ---------- email ---------- */

function openEmail(email,name){
const sender=getSenderName();
if(!sender){refreshNameGate();return;}

const body=`Dear ${name},

${BASE}

Sincerely,

${sender}`;

const gmail=document.getElementById("gmailCheck").checked;

const link=gmail
?`https://mail.google.com/mail/?view=cm&fs=1&to=${encodeURIComponent(email)}&su=${encodeURIComponent(SUBJECT)}&body=${encodeURIComponent(body)}`
:`mailto:${email}?subject=${encodeURIComponent(SUBJECT)}&body=${encodeURIComponent(body)}`;

const p=progress();
p[email]=true;
save(p);
update();

if(gmail) window.open(link,"_blank");
else window.location.href=link;
}

/* ---------- reset ---------- */

document.addEventListener("click",e=>{
if(e.target.id==="resetBtn"){
if(confirm("Reset checkmarks? / ¿Reiniciar marcas?")){
localStorage.removeItem(storeKey);
update();
}
}
});

/* ---------- render ---------- */

function render(){
loadSavedName();

const c=document.getElementById("buttons");

MEMBERS.forEach(m=>{
const b=document.createElement("button");
b.className="member";
b.innerHTML=`
<span class="name">${m[0]}<span class="inlineCheck" data-check="${m[1]}">✓</span></span>
`;
b.onclick=()=>openEmail(m[1],m[0]);
c.appendChild(b);
});

update();
refreshNameGate();

const input=document.getElementById("senderName");
input.addEventListener("input",()=>{saveNameNow();refreshNameGate();});
}

render();
</script>
</body>
</html>
